{% extends 'cmbase.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
    --primary: #e19540;
    --primary-dark: #d18030;
    --secondary: #f2b06e;
    --text: #333;
    --text-light: #666;
    --bg: #f8f9fa;
    --white: #ffffff;
    --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    --border-radius: 8px;
    --transition: all 0.3s ease;
}
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.6;
            padding: 0;
            margin: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--white);
            padding: 2rem 0;
            border-bottom-left-radius: var(--border-radius);
            border-bottom-right-radius: var(--border-radius);
            box-shadow: var(--shadow);
            text-align: center;
            margin-bottom: 2rem;
        }

        h1 {
            font-size: 2.2rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .intro {
            max-width: 800px;
            margin: 0 auto;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .form-container {
            background-color: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 2rem;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: var(--text);
        }

        input, select, textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        textarea {
            min-height: 100px;
            resize: vertical;
        }

        .btn {
            display: inline-block;
            background: var(--primary);
            color: var(--white);
            border: none;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow);
            font-weight: 500;
        }

        .btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .btn-next {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .tab-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            padding: 1rem 0;
            border-bottom: 1px solid #eee;
            overflow-x: auto;
            scrollbar-width: thin;
        }

        .tab-buttons::-webkit-scrollbar {
            height: 4px;
        }

        .tab-buttons::-webkit-scrollbar-thumb {
            background-color: var(--primary);
            border-radius: 4px;
        }

        .tab-link {
            padding: 0.75rem 1.25rem;
            border: none;
            background-color: #f1f3f5;
            cursor: pointer;
            border-radius: var(--border-radius);
            font-weight: 500;
            transition: var(--transition);
            color: var(--text);
            flex: 0 0 auto;
            white-space: nowrap;
        }

        .tab-link:hover {
            background-color: #e9ecef;
        }

        .tab-link.active {
            background-color: var(--primary);
            color: var(--white);
        }

        .tab-content, .tabs-wrapper {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        .tabs-wrapper.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .item-row {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 0.5rem;
            background-color: #f8f9fa;
            transition: var(--transition);
            animation: slideIn 0.3s ease;
            animation-fill-mode: both;
        }

        .item-row:hover {
            background-color: #f1f3f5;
        }

        .item-label {
            flex: 2;
            font-weight: 500;
        }

        .item-control {
            flex: 1;
            padding: 0 1rem;
        }

        .item-remarks {
            flex: 3;
        }

        .item-remarks input {
            padding: 0.5rem;
        }

        .section-title {
            margin: 1rem 0;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary);
            color: var(--primary);
            font-weight: 600;
        }

        .tab-icon {
            margin-right: 0.5rem;
        }

        .form-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }

        @media (max-width: 768px) {
            .tab-buttons {
                flex-direction: row;
                overflow-x: auto;
                padding-bottom: 10px;
                gap: 5px;
            }
            
            .item-row {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .item-label, .item-control, .item-remarks {
                width: 100%;
                margin-bottom: 0.5rem;
            }
        }

        /* Progress indicator */
        .progress-container {
            margin-bottom: 2rem;
        }

        .progress-bar {
            height: 8px;
            background-color: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0;
            transition: width 0.8s ease-in-out;
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
            font-size: 0.8rem;
            color: var(--text-light);
        }

        /* Tab navigation buttons */
        .tab-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid #eee;
        }

        /* Badge for active tab indicator */
        .tab-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            font-size: 0.8rem;
            margin-left: 10px;
            box-shadow: var(--shadow);
        }

        /* Animation for slide transitions */
        @keyframes slideRight {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideLeft {
            from { transform: translateX(20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .slide-right {
            animation: slideRight 0.3s ease forwards;
        }

        .slide-left {
            animation: slideLeft 0.3s ease forwards;
        }

        /* Staggered animation for list items */
        .item-row:nth-child(1) { animation-delay: 0.1s; }
        .item-row:nth-child(2) { animation-delay: 0.2s; }
        .item-row:nth-child(3) { animation-delay: 0.3s; }
        .item-row:nth-child(4) { animation-delay: 0.4s; }
        .item-row:nth-child(5) { animation-delay: 0.5s; }
        .item-row:nth-child(6) { animation-delay: 0.6s; }
        .item-row:nth-child(7) { animation-delay: 0.7s; }
        .item-row:nth-child(8) { animation-delay: 0.8s; }
        .item-row:nth-child(9) { animation-delay: 0.9s; }
        .item-row:nth-child(10) { animation-delay: 1.0s; }
    </style>

    <header>
        <div class="container">
            <h1>Walkthrough Report</h1>
            <p class="intro">Complete inspection details for your property walkthrough</p>
        </div>
    </header>

    <div class="container">
        <div class="form-container">
            {% if form.errors %}
  <div class="alert alert-danger">
    <ul>
      {% for field in form %}
        {% for error in field.errors %}
          <li>{{ field.label }}: {{ error }}</li>
        {% endfor %}
      {% endfor %}
      {% for error in form.non_field_errors %}
        <li>{{ error }}</li>
      {% endfor %}
    </ul>
  </div>
{% endif %}

            <form method="post">
                {% csrf_token %}

                <!-- Progress indicator -->
                <div class="progress-container" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <div class="progress-steps" id="progress-steps">
                        <span>Basic Info</span>
                        <span>Inspection Details</span>
                        <span>Review & Submit</span>
                    </div>
                </div>

                <!-- INITIAL BASIC FIELDS -->
                <div id="basic-info">
                    <div class="form-group">
                        <label for="id_user">Client :</label>
                        {{ form.user }}
                    </div>

                    <div class="form-group">
                        <label for="id_description">Inspection Notes :</label>
                        {{ form.description }}
                    </div>

    

                    <!-- <button type="button" class="btn btn-next" onclick="showTabs()">
                        Continue to Inspection <i class="fas fa-arrow-right"></i>
                    </button> -->
                    <div class="model-content">
                                        <div class="tab-buttons" id="tab-buttons" >
                                            <button type="button" class="tab-link active" data-tab="GIE" data-index="0">
                                                <i class="fas fa-home tab-icon"></i>Exterior
                                            </button>
                                            <button type="button" class="tab-link" data-tab="GII" data-index="1">
                                                <i class="fas fa-door-open tab-icon"></i>Interior
                                            </button>
                                            <button type="button" class="tab-link" data-tab="GARAGE" data-index="2">
                                                <i class="fas fa-warehouse tab-icon"></i>Garage
                                            </button>
                                            <button type="button" class="tab-link" data-tab="LAUNDRY" data-index="3">
                                                <i class="fas fa-tshirt tab-icon"></i>Laundry / Mudroom
                                            </button>
                                            <button type="button" class="tab-link" data-tab="KITCHEN" data-index="4">
                                                <i class="fas fa-utensils tab-icon"></i>Kitchen
                                            </button>
                                            <button type="button" class="tab-link" data-tab="BUTLERS" data-index="5">
                                                <i class="fas fa-user-tie tab-icon"></i>Butlers
                                            </button>
                                            <button type="button" class="tab-link" data-tab="BREAKFAST_AREA" data-index="6">
                                                <i class="fas fa-coffee tab-icon"></i>Breakfast Area
                                            </button>
                                            <button type="button" class="tab-link" data-tab="ENTRY_FOYER" data-index="7">
                                                <i class="fas fa-door-closed tab-icon"></i>Entry / Foyer
                                            </button>
                                            <button type="button" class="tab-link" data-tab="GREAT_ROOM" data-index="8">
                                                <i class="fas fa-couch tab-icon"></i>Great Room / Family Room
                                            </button>
                                            <button type="button" class="tab-link" data-tab="DINING_ROOM" data-index="9">
                                                <i class="fas fa-chair tab-icon"></i>Dining Room / Area
                                            </button>
                                            <button type="button" class="tab-link" data-tab="CLOSETS_MAIN_LEVEL" data-index="10">
                                                <i class="fas fa-box-open tab-icon"></i>Closets - Main Level
                                            </button>
                                            <button type="button" class="tab-link" data-tab="CLOSETS_UPPER_LEVEL" data-index="11">
                                                <i class="fas fa-boxes tab-icon"></i>Closets - Upper Level
                                            </button>
                                            <button type="button" class="tab-link" data-tab="HALLWAYS_MAIN_LEVEL" data-index="12">
                                                <i class="fas fa-stream tab-icon"></i>Hallways - Main Level
                                            </button>
                                            <button type="button" class="tab-link" data-tab="HALLWAYS_UPPER_LEVEL" data-index="13">
                                                <i class="fas fa-road tab-icon"></i>Hallways - Upper Level
                                            </button>
                                            <button type="button" class="tab-link" data-tab="BEDROOM1" data-index="14">
                                                <i class="fas fa-bed tab-icon"></i>Bedroom 1 (Master)
                                            </button>
                                            <button type="button" class="tab-link" data-tab="BEDROOM2" data-index="15">
                                                <i class="fas fa-bed tab-icon"></i>Bedroom 2
                                            </button>
                                            <button type="button" class="tab-link" data-tab="BEDROOM3" data-index="16">
                                                <i class="fas fa-bed tab-icon"></i>Bedroom 3
                                            </button>
                                            <button type="button" class="tab-link" data-tab="BEDROOM4" data-index="17">
                                                <i class="fas fa-bed tab-icon"></i>Bedroom 4
                                            </button>
                                            <button type="button" class="tab-link" data-tab="BATHROOM1" data-index="18">
                                                <i class="fas fa-bath tab-icon"></i>Bathroom 1 (Master)
                                            </button>
                                            <button type="button" class="tab-link" data-tab="BATHROOM2" data-index="19">
                                                <i class="fas fa-bath tab-icon"></i>Bathroom 2
                                            </button>
                                            <button type="button" class="tab-link" data-tab="BATHROOM3" data-index="20">
                                                <i class="fas fa-bath tab-icon"></i>Bathroom 3
                                            </button>
                                            <button type="button" class="tab-link" data-tab="BATHROOM4" data-index="21">
                                                <i class="fas fa-bath tab-icon"></i>Bathroom 4
                                            </button>
                                            <button type="button" class="tab-link" data-tab="BATHROOM5" data-index="22">
                                                <i class="fas fa-bath tab-icon"></i>Bathroom 5
                                            </button>
                                            <button type="button" class="tab-link" data-tab="GYM" data-index="23">
                                                <i class="fas fa-dumbbell tab-icon"></i>Gym
                                            </button>
                                            <button type="button" class="tab-link" data-tab="THEATRE_MUSIC_ROOM" data-index="24">
                                                <i class="fas fa-music tab-icon"></i>Theatre / Music Room
                                            </button>
                                            <button type="button" class="tab-link" data-tab="GUEST_HOUSE_SLEEPING_LIVING" data-index="25">
                                                <i class="fas fa-house-user tab-icon"></i>Guest House - Sleeping / Living
                                            </button>
                                            <button type="button" class="tab-link" data-tab="GUEST_HOUSE_BATHROOM" data-index="26">
                                                <i class="fas fa-bath tab-icon"></i>Guest House - Bathroom
                                            </button>
                                            <!-- <button type="button" class="tab-link" data-tab="BASEMENT" data-index="27">
                                                <i class="fas fa-dungeon tab-icon"></i>Basement
                                            </button>
                                            <button type="button" class="tab-link" data-tab="ATTIC" data-index="28">
                                                <i class="fas fa-archive tab-icon"></i>Attic
                                            </button>
                                            <button type="button" class="tab-link" data-tab="HVAC" data-index="29">
                                                <i class="fas fa-temperature-high tab-icon"></i>HVAC
                                            </button> -->
                                        </div>
                                        <!-- all content starts here  -->
                    <div class="all-modles-show">
                                        <div class="tab-content active" id="GIE">
                                            <h3 class="section-title">General Items - Exterior</h3>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gie1.label_tag }}</div>
                            <div class="item-control">{{ form.gie1 }}</div>
                            <div class="item-remarks">{{ form.gie1_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gie2.label_tag }}</div>
                            <div class="item-control">{{ form.gie2 }}</div>
                            <div class="item-remarks">{{ form.gie2_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gie3.label_tag }}</div>
                            <div class="item-control">{{ form.gie3 }}</div>
                            <div class="item-remarks">{{ form.gie3_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gie4.label_tag }}</div>
                            <div class="item-control">{{ form.gie4 }}</div>
                            <div class="item-remarks">{{ form.gie4_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gie5.label_tag }}</div>
                            <div class="item-control">{{ form.gie5 }}</div>
                            <div class="item-remarks">{{ form.gie5_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gie6.label_tag }}</div>
                            <div class="item-control">{{ form.gie6 }}</div>
                            <div class="item-remarks">{{ form.gie6_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gie7.label_tag }}</div>
                            <div class="item-control">{{ form.gie7 }}</div>
                            <div class="item-remarks">{{ form.gie7_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gie8.label_tag }}</div>
                            <div class="item-control">{{ form.gie8 }}</div>
                            <div class="item-remarks">{{ form.gie8_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gie9.label_tag }}</div>
                            <div class="item-control">{{ form.gie9 }}</div>
                            <div class="item-remarks">{{ form.gie9_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gie10.label_tag }}</div>
                            <div class="item-control">{{ form.gie10 }}</div>
                            <div class="item-remarks">{{ form.gie10_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gie11.label_tag }}</div>
                            <div class="item-control">{{ form.gie11 }}</div>
                            <div class="item-remarks">{{ form.gie11_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gie12.label_tag }}</div>
                            <div class="item-control">{{ form.gie12 }}</div>
                            <div class="item-remarks">{{ form.gie12_remarks }}</div>
                        </div>

                        <div class="item-row">
                            <div class="item-label">{{ form.gie13.label_tag }}</div>
                            <div class="item-control">{{ form.gie13 }}</div>
                            <div class="item-remarks">{{ form.gie13_remarks }}</div>
                        </div>

                        <div class="item-row">
                            <div class="item-label">{{ form.gie14.label_tag }}</div>
                            <div class="item-control">{{ form.gie14 }}</div>
                            <div class="item-remarks">{{ form.gie14_remarks }}</div>
                        </div>

                        <div class="item-row">
                            <div class="item-label">{{ form.gie15.label_tag }}</div>
                            <div class="item-control">
                                {{ form.gie15 }}
                            </div>
                            <div class="item-remarks">{{ form.gie15_remarks }}</div>
                        </div>
                       
                                        </div>
                                        
                                        <div class="tab-content" id="GII">
                                            <h3 class="section-title">General Items - Interior</h3>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gii1.label_tag }}</div>
                            <div class="item-control">{{ form.gii1 }}</div>
                            <div class="item-remarks">{{ form.gii1_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gii2.label_tag }}</div>
                            <div class="item-control">{{ form.gii2 }}</div>
                            <div class="item-remarks">{{ form.gii2_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gii3.label_tag }}</div>
                            <div class="item-control">{{ form.gii3 }}</div>
                            <div class="item-remarks">{{ form.gii3_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gii4.label_tag }}</div>
                            <div class="item-control">{{ form.gii4 }}</div>
                            <div class="item-remarks">{{ form.gii4_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gii5.label_tag }}</div>
                            <div class="item-control">{{ form.gii5 }}</div>
                            <div class="item-remarks">{{ form.gii5_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gii6.label_tag }}</div>
                            <div class="item-control">{{ form.gii6 }}</div>
                            <div class="item-remarks">{{ form.gii6_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gii7.label_tag }}</div>
                            <div class="item-control">{{ form.gii7 }}</div>
                            <div class="item-remarks">{{ form.gii7_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gii8.label_tag }}</div>
                            <div class="item-control">{{ form.gii8 }}</div>
                            <div class="item-remarks">{{ form.gii8_remarks }}</div>
                        </div>
                    
                        <div class="item-row">
                            <div class="item-label">{{ form.gii9.label_tag }}</div>
                            <div class="item-control">{{ form.gii9 }}</div>
                            <div class="item-remarks">{{ form.gii9_remarks }}</div>
                        </div>
                                        </div>
                                        
                                        <div class="tab-content" id="GARAGE">
                                            <h3 class="section-title">Garage</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.garage1.label_tag }}</div>
                                                <div class="item-control">{{ form.garage1 }}</div>
                                                <div class="item-remarks">{{ form.garage1_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.garage2.label_tag }}</div>
                                                <div class="item-control">{{ form.garage2 }}</div>
                                                <div class="item-remarks">{{ form.garage2_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.garage3.label_tag }}</div>
                                                <div class="item-control">{{ form.garage3 }}</div>
                                                <div class="item-remarks">{{ form.garage3_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.garage4.label_tag }}</div>
                                                <div class="item-control">{{ form.garage4 }}</div>
                                                <div class="item-remarks">{{ form.garage4_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.garage5.label_tag }}</div>
                                                <div class="item-control">{{ form.garage5 }}</div>
                                                <div class="item-remarks">{{ form.garage5_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.garage6.label_tag }}</div>
                                                <div class="item-control">{{ form.garage6 }}</div>
                                                <div class="item-remarks">{{ form.garage6_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.garage7.label_tag }}</div>
                                                <div class="item-control">{{ form.garage7 }}</div>
                                                <div class="item-remarks">{{ form.garage7_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.garage8.label_tag }}</div>
                                                <div class="item-control">{{ form.garage8 }}</div>
                                                <div class="item-remarks">{{ form.garage8_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.garage9.label_tag }}</div>
                                                <div class="item-control">{{ form.garage9 }}</div>
                                                <div class="item-remarks">{{ form.garage9_remarks }}</div>
                                            </div>
                                        </div>
                                        
                                        <div class="tab-content" id="LAUNDRY">
                                            <h3 class="section-title">Laundry / Mudroom</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.laundry1.label_tag }}</div>
                                                <div class="item-control">{{ form.laundry1 }}</div>
                                                <div class="item-remarks">{{ form.laundry1_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.laundry2.label_tag }}</div>
                                                <div class="item-control">{{ form.laundry2 }}</div>
                                                <div class="item-remarks">{{ form.laundry2_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.laundry3.label_tag }}</div>
                                                <div class="item-control">{{ form.laundry3 }}</div>
                                                <div class="item-remarks">{{ form.laundry3_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.laundry4.label_tag }}</div>
                                                <div class="item-control">{{ form.laundry4 }}</div>
                                                <div class="item-remarks">{{ form.laundry4_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.laundry5.label_tag }}</div>
                                                <div class="item-control">{{ form.laundry5 }}</div>
                                                <div class="item-remarks">{{ form.laundry5_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.laundry6.label_tag }}</div>
                                                <div class="item-control">{{ form.laundry6 }}</div>
                                                <div class="item-remarks">{{ form.laundry6_remarks }}</div>
                                            </div>
                                        </div>
                                        
                                        <div class="tab-content" id="KITCHEN">
                                            <h3 class="section-title">Kitchen</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.kitchen1.label_tag }}</div>
                                                <div class="item-control">{{ form.kitchen1 }}</div>
                                                <div class="item-remarks">{{ form.kitchen1_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.kitchen2.label_tag }}</div>
                                                <div class="item-control">{{ form.kitchen2 }}</div>
                                                <div class="item-remarks">{{ form.kitchen2_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.kitchen3.label_tag }}</div>
                                                <div class="item-control">{{ form.kitchen3 }}</div>
                                                <div class="item-remarks">{{ form.kitchen3_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.kitchen4.label_tag }}</div>
                                                <div class="item-control">{{ form.kitchen4 }}</div>
                                                <div class="item-remarks">{{ form.kitchen4_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.kitchen5.label_tag }}</div>
                                                <div class="item-control">{{ form.kitchen5 }}</div>
                                                <div class="item-remarks">{{ form.kitchen5_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.kitchen6.label_tag }}</div>
                                                <div class="item-control">{{ form.kitchen6 }}</div>
                                                <div class="item-remarks">{{ form.kitchen6_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.kitchen7.label_tag }}</div>
                                                <div class="item-control">{{ form.kitchen7 }}</div>
                                                <div class="item-remarks">{{ form.kitchen7_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.kitchen8.label_tag }}</div>
                                                <div class="item-control">{{ form.kitchen8 }}</div>
                                                <div class="item-remarks">{{ form.kitchen8_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.kitchen9.label_tag }}</div>
                                                <div class="item-control">{{ form.kitchen9 }}</div>
                                                <div class="item-remarks">{{ form.kitchen9_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.kitchen10.label_tag }}</div>
                                                <div class="item-control">{{ form.kitchen10 }}</div>
                                                <div class="item-remarks">{{ form.kitchen10_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.kitchen11.label_tag }}</div>
                                                <div class="item-control">{{ form.kitchen11 }}</div>
                                                <div class="item-remarks">{{ form.kitchen11_remarks }}</div>
                                            </div>
                                        
                                            <div class="item-row">
                                                <div class="item-label">{{ form.kitchen12.label_tag }}</div>
                                                <div class="item-control">{{ form.kitchen12 }}</div>
                                                <div class="item-remarks">{{ form.kitchen12_remarks }}</div>
                                            </div>
                                        </div>
                                        
                                        <div class="tab-content" id="BUTLERS">
                                            <h3 class="section-title">Butlers</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.butlers1.label_tag }}</div>
                                                <div class="item-control">{{ form.butlers1 }}</div>
                                                <div class="item-remarks">{{ form.butlers1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.butlers2.label_tag }}</div>
                                                <div class="item-control">{{ form.butlers2 }}</div>
                                                <div class="item-remarks">{{ form.butlers2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.butlers3.label_tag }}</div>
                                                <div class="item-control">{{ form.butlers3 }}</div>
                                                <div class="item-remarks">{{ form.butlers3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.butlers4.label_tag }}</div>
                                                <div class="item-control">{{ form.butlers4 }}</div>
                                                <div class="item-remarks">{{ form.butlers4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.butlers5.label_tag }}</div>
                                                <div class="item-control">{{ form.butlers5 }}</div>
                                                <div class="item-remarks">{{ form.butlers5_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.butlers6.label_tag }}</div>
                                                <div class="item-control">{{ form.butlers6 }}</div>
                                                <div class="item-remarks">{{ form.butlers6_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.butlers7.label_tag }}</div>
                                                <div class="item-control">{{ form.butlers7 }}</div>
                                                <div class="item-remarks">{{ form.butlers7_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.butlers8.label_tag }}</div>
                                                <div class="item-control">{{ form.butlers8 }}</div>
                                                <div class="item-remarks">{{ form.butlers8_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.butlers9.label_tag }}</div>
                                                <div class="item-control">{{ form.butlers9 }}</div>
                                                <div class="item-remarks">{{ form.butlers9_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.butlers10.label_tag }}</div>
                                                <div class="item-control">{{ form.butlers10 }}</div>
                                                <div class="item-remarks">{{ form.butlers10_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.butlers11.label_tag }}</div>
                                                <div class="item-control">{{ form.butlers11 }}</div>
                                                <div class="item-remarks">{{ form.butlers11_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.butlers12.label_tag }}</div>
                                                <div class="item-control">{{ form.butlers12 }}</div>
                                                <div class="item-remarks">{{ form.butlers12_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="BREAKFAST_AREA">
                                            <h3 class="section-title">Breakfast Area</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.breakfast1.label_tag }}</div>
                                                <div class="item-control">{{ form.breakfast1 }}</div>
                                                <div class="item-remarks">{{ form.breakfast1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.breakfast2.label_tag }}</div>
                                                <div class="item-control">{{ form.breakfast2 }}</div>
                                                <div class="item-remarks">{{ form.breakfast2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.breakfast3.label_tag }}</div>
                                                <div class="item-control">{{ form.breakfast3 }}</div>
                                                <div class="item-remarks">{{ form.breakfast3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.breakfast4.label_tag }}</div>
                                                <div class="item-control">{{ form.breakfast4 }}</div>
                                                <div class="item-remarks">{{ form.breakfast4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.breakfast5.label_tag }}</div>
                                                <div class="item-control">{{ form.breakfast5 }}</div>
                                                <div class="item-remarks">{{ form.breakfast5_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="ENTRY_FOYER">
                                            <h3 class="section-title">Entry / Foyer</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.entry1.label_tag }}</div>
                                                <div class="item-control">{{ form.entry1 }}</div>
                                                <div class="item-remarks">{{ form.entry1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.entry2.label_tag }}</div>
                                                <div class="item-control">{{ form.entry2 }}</div>
                                                <div class="item-remarks">{{ form.entry2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.entry3.label_tag }}</div>
                                                <div class="item-control">{{ form.entry3 }}</div>
                                                <div class="item-remarks">{{ form.entry3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.entry4.label_tag }}</div>
                                                <div class="item-control">{{ form.entry4 }}</div>
                                                <div class="item-remarks">{{ form.entry4_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="GREAT_ROOM">
                                            <h3 class="section-title">Great Room / Family Room</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.greatroom1.label_tag }}</div>
                                                <div class="item-control">{{ form.greatroom1 }}</div>
                                                <div class="item-remarks">{{ form.greatroom1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.greatroom2.label_tag }}</div>
                                                <div class="item-control">{{ form.greatroom2 }}</div>
                                                <div class="item-remarks">{{ form.greatroom2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.greatroom3.label_tag }}</div>
                                                <div class="item-control">{{ form.greatroom3 }}</div>
                                                <div class="item-remarks">{{ form.greatroom3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.greatroom4.label_tag }}</div>
                                                <div class="item-control">{{ form.greatroom4 }}</div>
                                                <div class="item-remarks">{{ form.greatroom4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.greatroom5.label_tag }}</div>
                                                <div class="item-control">{{ form.greatroom5 }}</div>
                                                <div class="item-remarks">{{ form.greatroom5_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="DINING_ROOM">
                                            <h3 class="section-title">Dining Room / Area</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.dining1.label_tag }}</div>
                                                <div class="item-control">{{ form.dining1 }}</div>
                                                <div class="item-remarks">{{ form.dining1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.dining2.label_tag }}</div>
                                                <div class="item-control">{{ form.dining2 }}</div>
                                                <div class="item-remarks">{{ form.dining2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.dining3.label_tag }}</div>
                                                <div class="item-control">{{ form.dining3 }}</div>
                                                <div class="item-remarks">{{ form.dining3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.dining4.label_tag }}</div>
                                                <div class="item-control">{{ form.dining4 }}</div>
                                                <div class="item-remarks">{{ form.dining4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.dining5.label_tag }}</div>
                                                <div class="item-control">{{ form.dining5 }}</div>
                                                <div class="item-remarks">{{ form.dining5_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="CLOSETS_MAIN_LEVEL">
                                            <h3 class="section-title">Closets - Main Level</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.closets1.label_tag }}</div>
                                                <div class="item-control">{{ form.closets1 }}</div>
                                                <div class="item-remarks">{{ form.closets1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.closets2.label_tag }}</div>
                                                <div class="item-control">{{ form.closets2 }}</div>
                                                <div class="item-remarks">{{ form.closets2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.closets3.label_tag }}</div>
                                                <div class="item-control">{{ form.closets3 }}</div>
                                                <div class="item-remarks">{{ form.closets3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.closets4.label_tag }}</div>
                                                <div class="item-control">{{ form.closets4 }}</div>
                                                <div class="item-remarks">{{ form.closets4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.closets5.label_tag }}</div>
                                                <div class="item-control">{{ form.closets5 }}</div>
                                                <div class="item-remarks">{{ form.closets5_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="CLOSETS_UPPER_LEVEL">
                                            <h3 class="section-title">Closets - Upper Level</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.closets_upper1.label_tag }}</div>
                                                <div class="item-control">{{ form.closets_upper1 }}</div>
                                                <div class="item-remarks">{{ form.closets_upper1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.closets_upper2.label_tag }}</div>
                                                <div class="item-control">{{ form.closets_upper2 }}</div>
                                                <div class="item-remarks">{{ form.closets_upper2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.closets_upper3.label_tag }}</div>
                                                <div class="item-control">{{ form.closets_upper3 }}</div>
                                                <div class="item-remarks">{{ form.closets_upper3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.closets_upper4.label_tag }}</div>
                                                <div class="item-control">{{ form.closets_upper4 }}</div>
                                                <div class="item-remarks">{{ form.closets_upper4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.closets_upper5.label_tag }}</div>
                                                <div class="item-control">{{ form.closets_upper5 }}</div>
                                                <div class="item-remarks">{{ form.closets_upper5_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="HALLWAYS_MAIN_LEVEL">
                                            <h3 class="section-title">Hallways - Main Level</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.hallways_main1.label_tag }}</div>
                                                <div class="item-control">{{ form.hallways_main1 }}</div>
                                                <div class="item-remarks">{{ form.hallways_main1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.hallways_main2.label_tag }}</div>
                                                <div class="item-control">{{ form.hallways_main2 }}</div>
                                                <div class="item-remarks">{{ form.hallways_main2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.hallways_main3.label_tag }}</div>
                                                <div class="item-control">{{ form.hallways_main3 }}</div>
                                                <div class="item-remarks">{{ form.hallways_main3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.hallways_main4.label_tag }}</div>
                                                <div class="item-control">{{ form.hallways_main4 }}</div>
                                                <div class="item-remarks">{{ form.hallways_main4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.hallways_main5.label_tag }}</div>
                                                <div class="item-control">{{ form.hallways_main5 }}</div>
                                                <div class="item-remarks">{{ form.hallways_main5_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="HALLWAYS_UPPER_LEVEL">
                                            <h3 class="section-title">Hallways - Upper Level</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.hallways_upper1.label_tag }}</div>
                                                <div class="item-control">{{ form.hallways_upper1 }}</div>
                                                <div class="item-remarks">{{ form.hallways_upper1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.hallways_upper2.label_tag }}</div>
                                                <div class="item-control">{{ form.hallways_upper2 }}</div>
                                                <div class="item-remarks">{{ form.hallways_upper2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.hallways_upper3.label_tag }}</div>
                                                <div class="item-control">{{ form.hallways_upper3 }}</div>
                                                <div class="item-remarks">{{ form.hallways_upper3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.hallways_upper4.label_tag }}</div>
                                                <div class="item-control">{{ form.hallways_upper4 }}</div>
                                                <div class="item-remarks">{{ form.hallways_upper4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.hallways_upper5.label_tag }}</div>
                                                <div class="item-control">{{ form.hallways_upper5 }}</div>
                                                <div class="item-remarks">{{ form.hallways_upper5_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="BEDROOM1">
                                            <h3 class="section-title">Bedroom 1 (Master Bedroom)</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bedroom1_1.label_tag }}</div>
                                                <div class="item-control">{{ form.bedroom1_1 }}</div>
                                                <div class="item-remarks">{{ form.bedroom1_1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bedroom1_2.label_tag }}</div>
                                                <div class="item-control">{{ form.bedroom1_2 }}</div>
                                                <div class="item-remarks">{{ form.bedroom1_2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bedroom1_3.label_tag }}</div>
                                                <div class="item-control">{{ form.bedroom1_3 }}</div>
                                                <div class="item-remarks">{{ form.bedroom1_3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bedroom1_4.label_tag }}</div>
                                                <div class="item-control">{{ form.bedroom1_4 }}</div>
                                                <div class="item-remarks">{{ form.bedroom1_4_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="BEDROOM2">
                                            <h3 class="section-title">Bedroom 2</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bedroom2_1.label_tag }}</div>
                                                <div class="item-control">{{ form.bedroom2_1 }}</div>
                                                <div class="item-remarks">{{ form.bedroom2_1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bedroom2_2.label_tag }}</div>
                                                <div class="item-control">{{ form.bedroom2_2 }}</div>
                                                <div class="item-remarks">{{ form.bedroom2_2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bedroom2_3.label_tag }}</div>
                                                <div class="item-control">{{ form.bedroom2_3 }}</div>
                                                <div class="item-remarks">{{ form.bedroom2_3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bedroom2_4.label_tag }}</div>
                                                <div class="item-control">{{ form.bedroom2_4 }}</div>
                                                <div class="item-remarks">{{ form.bedroom2_4_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="BEDROOM3">
                                            <h3 class="section-title">Bedroom 3</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bedroom3_1.label_tag }}</div>
                                                <div class="item-control">{{ form.bedroom3_1 }}</div>
                                                <div class="item-remarks">{{ form.bedroom3_1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bedroom3_2.label_tag }}</div>
                                                <div class="item-control">{{ form.bedroom3_2 }}</div>
                                                <div class="item-remarks">{{ form.bedroom3_2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bedroom3_3.label_tag }}</div>
                                                <div class="item-control">{{ form.bedroom3_3 }}</div>
                                                <div class="item-remarks">{{ form.bedroom3_3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bedroom3_4.label_tag }}</div>
                                                <div class="item-control">{{ form.bedroom3_4 }}</div>
                                                <div class="item-remarks">{{ form.bedroom3_4_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="BEDROOM4">
                                            <h3 class="section-title">Bedroom 4</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bedroom4_1.label_tag }}</div>
                                                <div class="item-control">{{ form.bedroom4_1 }}</div>
                                                <div class="item-remarks">{{ form.bedroom4_1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bedroom4_2.label_tag }}</div>
                                                <div class="item-control">{{ form.bedroom4_2 }}</div>
                                                <div class="item-remarks">{{ form.bedroom4_2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bedroom4_3.label_tag }}</div>
                                                <div class="item-control">{{ form.bedroom4_3 }}</div>
                                                <div class="item-remarks">{{ form.bedroom4_3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bedroom4_4.label_tag }}</div>
                                                <div class="item-control">{{ form.bedroom4_4 }}</div>
                                                <div class="item-remarks">{{ form.bedroom4_4_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="BATHROOM1">
                                            <h3 class="section-title">Bathroom 1 (Master Bath)</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom1_1.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom1_1 }}</div>
                                                <div class="item-remarks">{{ form.bathroom1_1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom1_2.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom1_2 }}</div>
                                                <div class="item-remarks">{{ form.bathroom1_2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom1_3.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom1_3 }}</div>
                                                <div class="item-remarks">{{ form.bathroom1_3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom1_4.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom1_4 }}</div>
                                                <div class="item-remarks">{{ form.bathroom1_4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom1_5.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom1_5 }}</div>
                                                <div class="item-remarks">{{ form.bathroom1_5_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom1_6.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom1_6 }}</div>
                                                <div class="item-remarks">{{ form.bathroom1_6_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom1_7.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom1_7 }}</div>
                                                <div class="item-remarks">{{ form.bathroom1_7_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom1_8.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom1_8 }}</div>
                                                <div class="item-remarks">{{ form.bathroom1_8_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="BATHROOM2">
                                            <h3 class="section-title">Bathroom 2</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom2_1.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom2_1 }}</div>
                                                <div class="item-remarks">{{ form.bathroom2_1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom2_2.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom2_2 }}</div>
                                                <div class="item-remarks">{{ form.bathroom2_2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom2_3.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom2_3 }}</div>
                                                <div class="item-remarks">{{ form.bathroom2_3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom2_4.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom2_4 }}</div>
                                                <div class="item-remarks">{{ form.bathroom2_4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom2_5.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom2_5 }}</div>
                                                <div class="item-remarks">{{ form.bathroom2_5_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom2_6.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom2_6 }}</div>
                                                <div class="item-remarks">{{ form.bathroom2_6_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom2_7.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom2_7 }}</div>
                                                <div class="item-remarks">{{ form.bathroom2_7_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom2_8.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom2_8 }}</div>
                                                <div class="item-remarks">{{ form.bathroom2_8_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="BATHROOM3">
                                            <h3 class="section-title">Bathroom 3</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom3_1.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom3_1 }}</div>
                                                <div class="item-remarks">{{ form.bathroom3_1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom3_2.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom3_2 }}</div>
                                                <div class="item-remarks">{{ form.bathroom3_2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom3_3.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom3_3 }}</div>
                                                <div class="item-remarks">{{ form.bathroom3_3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom3_4.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom3_4 }}</div>
                                                <div class="item-remarks">{{ form.bathroom3_4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom3_5.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom3_5 }}</div>
                                                <div class="item-remarks">{{ form.bathroom3_5_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom3_6.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom3_6 }}</div>
                                                <div class="item-remarks">{{ form.bathroom3_6_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom3_7.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom3_7 }}</div>
                                                <div class="item-remarks">{{ form.bathroom3_7_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom3_8.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom3_8 }}</div>
                                                <div class="item-remarks">{{ form.bathroom3_8_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="BATHROOM4">
                                            <h3 class="section-title">Bathroom 4</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom4_1.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom4_1 }}</div>
                                                <div class="item-remarks">{{ form.bathroom4_1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom4_2.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom4_2 }}</div>
                                                <div class="item-remarks">{{ form.bathroom4_2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom4_3.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom4_3 }}</div>
                                                <div class="item-remarks">{{ form.bathroom4_3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom4_4.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom4_4 }}</div>
                                                <div class="item-remarks">{{ form.bathroom4_4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom4_5.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom4_5 }}</div>
                                                <div class="item-remarks">{{ form.bathroom4_5_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom4_6.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom4_6 }}</div>
                                                <div class="item-remarks">{{ form.bathroom4_6_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom4_7.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom4_7 }}</div>
                                                <div class="item-remarks">{{ form.bathroom4_7_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom4_8.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom4_8 }}</div>
                                                <div class="item-remarks">{{ form.bathroom4_8_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="BATHROOM5">
                                            <h3 class="section-title">Bathroom 5</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom5_1.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom5_1 }}</div>
                                                <div class="item-remarks">{{ form.bathroom5_1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom5_2.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom5_2 }}</div>
                                                <div class="item-remarks">{{ form.bathroom5_2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom5_3.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom5_3 }}</div>
                                                <div class="item-remarks">{{ form.bathroom5_3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom5_4.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom5_4 }}</div>
                                                <div class="item-remarks">{{ form.bathroom5_4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom5_5.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom5_5 }}</div>
                                                <div class="item-remarks">{{ form.bathroom5_5_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom5_6.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom5_6 }}</div>
                                                <div class="item-remarks">{{ form.bathroom5_6_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom5_7.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom5_7 }}</div>
                                                <div class="item-remarks">{{ form.bathroom5_7_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.bathroom5_8.label_tag }}</div>
                                                <div class="item-control">{{ form.bathroom5_8 }}</div>
                                                <div class="item-remarks">{{ form.bathroom5_8_remarks }}</div>
                                            </div>
                                        </div>
                                        
                                        <div class="tab-content" id="GYM">
                                            <h3 class="section-title">Gym</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.gym_1.label_tag }}</div>
                                                <div class="item-control">{{ form.gym_1 }}</div>
                                                <div class="item-remarks">{{ form.gym_1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.gym_2.label_tag }}</div>
                                                <div class="item-control">{{ form.gym_2 }}</div>
                                                <div class="item-remarks">{{ form.gym_2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.gym_3.label_tag }}</div>
                                                <div class="item-control">{{ form.gym_3 }}</div>
                                                <div class="item-remarks">{{ form.gym_3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.gym_4.label_tag }}</div>
                                                <div class="item-control">{{ form.gym_4 }}</div>
                                                <div class="item-remarks">{{ form.gym_4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.gym_5.label_tag }}</div>
                                                <div class="item-control">{{ form.gym_5 }}</div>
                                                <div class="item-remarks">{{ form.gym_5_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.gym_6.label_tag }}</div>
                                                <div class="item-control">{{ form.gym_6 }}</div>
                                                <div class="item-remarks">{{ form.gym_6_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.gym_7.label_tag }}</div>
                                                <div class="item-control">{{ form.gym_7 }}</div>
                                                <div class="item-remarks">{{ form.gym_7_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="THEATRE_MUSIC_ROOM">
                                            <h3 class="section-title">Theatre / Music Room</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.theatre_1.label_tag }}</div>
                                                <div class="item-control">{{ form.theatre_1 }}</div>
                                                <div class="item-remarks">{{ form.theatre_1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.theatre_2.label_tag }}</div>
                                                <div class="item-control">{{ form.theatre_2 }}</div>
                                                <div class="item-remarks">{{ form.theatre_2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.theatre_3.label_tag }}</div>
                                                <div class="item-control">{{ form.theatre_3 }}</div>
                                                <div class="item-remarks">{{ form.theatre_3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.theatre_4.label_tag }}</div>
                                                <div class="item-control">{{ form.theatre_4 }}</div>
                                                <div class="item-remarks">{{ form.theatre_4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.theatre_5.label_tag }}</div>
                                                <div class="item-control">{{ form.theatre_5 }}</div>
                                                <div class="item-remarks">{{ form.theatre_5_remarks }}</div>
                                            </div>                                            
                                        </div>
                                        
                                        <div class="tab-content" id="GUEST_HOUSE_SLEEPING_LIVING">
                                            <h3 class="section-title">Guest House -Living</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.guest_house_1.label_tag }}</div>
                                                <div class="item-control">{{ form.guest_house_1 }}</div>
                                                <div class="item-remarks">{{ form.guest_house_1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.guest_house_2.label_tag }}</div>
                                                <div class="item-control">{{ form.guest_house_2 }}</div>
                                                <div class="item-remarks">{{ form.guest_house_2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.guest_house_3.label_tag }}</div>
                                                <div class="item-control">{{ form.guest_house_3 }}</div>
                                                <div class="item-remarks">{{ form.guest_house_3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.guest_house_4.label_tag }}</div>
                                                <div class="item-control">{{ form.guest_house_4 }}</div>
                                                <div class="item-remarks">{{ form.guest_house_4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.guest_house_5.label_tag }}</div>
                                                <div class="item-control">{{ form.guest_house_5 }}</div>
                                                <div class="item-remarks">{{ form.guest_house_5_remarks }}</div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="tab-content" id="GUEST_HOUSE_BATHROOM">
                                            <h3 class="section-title">Guest House - Bathroom</h3>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.guest_house_bath_1.label_tag }}</div>
                                                <div class="item-control">{{ form.guest_house_bath_1 }}</div>
                                                <div class="item-remarks">{{ form.guest_house_bath_1_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.guest_house_bath_2.label_tag }}</div>
                                                <div class="item-control">{{ form.guest_house_bath_2 }}</div>
                                                <div class="item-remarks">{{ form.guest_house_bath_2_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.guest_house_bath_3.label_tag }}</div>
                                                <div class="item-control">{{ form.guest_house_bath_3 }}</div>
                                                <div class="item-remarks">{{ form.guest_house_bath_3_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.guest_house_bath_4.label_tag }}</div>
                                                <div class="item-control">{{ form.guest_house_bath_4 }}</div>
                                                <div class="item-remarks">{{ form.guest_house_bath_4_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.guest_house_bath_5.label_tag }}</div>
                                                <div class="item-control">{{ form.guest_house_bath_5 }}</div>
                                                <div class="item-remarks">{{ form.guest_house_bath_5_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.guest_house_bath_6.label_tag }}</div>
                                                <div class="item-control">{{ form.guest_house_bath_6 }}</div>
                                                <div class="item-remarks">{{ form.guest_house_bath_6_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.guest_house_bath_7.label_tag }}</div>
                                                <div class="item-control">{{ form.guest_house_bath_7 }}</div>
                                                <div class="item-remarks">{{ form.guest_house_bath_7_remarks }}</div>
                                            </div>
                                            <div class="item-row">
                                                <div class="item-label">{{ form.guest_house_bath_8.label_tag }}</div>
                                                <div class="item-control">{{ form.guest_house_bath_8 }}</div>
                                                <div class="item-remarks">{{ form.guest_house_bath_8_remarks }}</div>
                                            </div>
                                            
                                        </div>
                    </div>
                    </div>
                    <!-- all content Ends here  -->

                    <!-- Tab Navigation -->
                    <div class="tab-nav">
                        <button type="button" class="btn" style="background-color: #6c757d;" id="prev-tab">
                            <i class="fas fa-arrow-left"></i> Previous
                        </button>
                        
                        <div id="tab-indicator"></div>
                        
                        <button type="button" class="btn" id="next-tab">
                            Next <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>

                    

                    <!-- Submit Button -->
                    <div class="form-actions">
                        <button type="button" class="btn" style="background-color: #6c757d;" onclick="backToBasic()">
                            <i class="fas fa-arrow-left"></i> Back to Basic Info
                        </button>
                        <button type="submit" class="btn" id="submit-btn" disabled>
                            <i class="fas fa-check"></i> Submit Report
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
    // Select all tab buttons and tab content areas
    const tabs = document.querySelectorAll('.tab-link');
    const contents = document.querySelectorAll('.tab-content');
    const progressFill = document.getElementById('progress-fill');
    const prevTabBtn = document.getElementById('prev-tab');
    const nextTabBtn = document.getElementById('next-tab');
    const tabIndicator = document.getElementById('tab-indicator');
    const form = document.getElementById('walkthrough-form') || document.querySelector('form');
    
    const totalTabs = tabs.length;
    let currentTabIndex = 0;

    // Initialize tab state
    function initializeTabs() {
        // Lock all tabs except the first one
        tabs.forEach((tab, index) => {
            if (index === 0) {
                // First tab is current (active)
                tab.classList.add('current');
                
                // Make sure the first tab is also marked active for Django template compatibility
                if (!tab.classList.contains('active')) {
                    tab.classList.add('active');
                }
            } else {
                // All other tabs are locked
                tab.classList.add('locked');
                
                // Remove active class if present from Django template
                tab.classList.remove('active');
            }
        });

        // Show only the first content tab
        contents.forEach((content, index) => {
            if (index === 0) {
                content.classList.add('active');
            } else {
                content.classList.remove('active');
            }
        });

        // Disable next button initially (until all fields are filled)
        nextTabBtn.disabled = true;
        prevTabBtn.disabled = true; // First tab has no previous

        updateProgressSteps();
        updateTabIndicator();
        progressFill.style.width = '5%';
    }

    // Check if all required fields in the current tab are filled
    function checkCurrentTabCompletion() {
        const currentTab = contents[currentTabIndex];
        const inputFields = currentTab.querySelectorAll('input, select, textarea');
        let allFilled = true;
        
        // Skip check if there are no input fields
        if (inputFields.length === 0) {
            return true;
        }

        inputFields.forEach(field => {
            // Check if field is required and empty
            if ((field.getAttribute('required') !== null || field.classList.contains('required-field')) && 
                (field.value === '' || field.value === null)) {
                allFilled = false;
            }
            
            // For checkboxes and radio buttons, check if they're checked when required
            if ((field.type === 'checkbox' || field.type === 'radio') && 
                (field.getAttribute('required') !== null || field.classList.contains('required-field')) && 
                !field.checked) {
                
                // For radio groups, check if any radio in the group is checked
                if (field.type === 'radio') {
                    const radioGroup = document.querySelectorAll(`input[name="${field.name}"]`);
                    let radioGroupChecked = false;
                    
                    radioGroup.forEach(radio => {
                        if (radio.checked) {
                            radioGroupChecked = true;
                        }
                    });
                    
                    if (!radioGroupChecked) {
                        allFilled = false;
                    }
                } else {
                    allFilled = false;
                }
            }
            
            // For select elements, ensure a valid option is selected
            if (field.tagName === 'SELECT' && 
                (field.getAttribute('required') !== null || field.classList.contains('required-field')) &&
                (field.value === '' || field.selectedIndex === 0)) {
                allFilled = false;
            }
        });

        // Enable/disable next button based on completion
        nextTabBtn.disabled = !allFilled;
        console.log(`Tab ${currentTabIndex + 1} completion check: ${allFilled ? 'COMPLETE' : 'INCOMPLETE'}`);
        return allFilled;
    }

    // Track field changes to check completion
    function trackFieldChanges() {
        const currentTab = contents[currentTabIndex];
        const inputFields = currentTab.querySelectorAll('input, select, textarea');

        inputFields.forEach(field => {
            // Remove any existing event listeners first to avoid duplicates
            field.removeEventListener('change', checkCurrentTabCompletion);
            field.removeEventListener('input', checkCurrentTabCompletion);
            field.removeEventListener('blur', checkCurrentTabCompletion);
            
            // Add event listeners
            field.addEventListener('change', checkCurrentTabCompletion);
            field.addEventListener('input', checkCurrentTabCompletion);
            field.addEventListener('blur', checkCurrentTabCompletion);
        });
    }

    // Handle tab click - only if not locked
    tabs.forEach((tab, index) => {
        tab.addEventListener('click', () => {
            if (!tab.classList.contains('locked')) {
                navigateToTab(index);
            } else {
                // Visual indication that the tab is locked
                tab.classList.add('shake');
                setTimeout(() => {
                    tab.classList.remove('shake');
                }, 500);
            }
        });
    });
    
    // Navigate to specific tab
    function navigateToTab(index) {
        // Only allow navigation if the tab isn't locked
        if (tabs[index].classList.contains('locked')) {
            console.log(`Cannot navigate to locked tab ${index + 1}`);
            return false;
        }
        
        // Deactivate current tab styles
        tabs[currentTabIndex].classList.remove('current');
        
        // Mark current tab as completed if all fields are filled
        if (checkCurrentTabCompletion()) {
            tabs[currentTabIndex].classList.add('completed');
        }
        
        // Update content tabs
        contents.forEach(content => content.classList.remove('active'));
        contents[index].classList.add('active');
        
        // Update current tab index
        currentTabIndex = index;
        
        // Set new current tab
        tabs[currentTabIndex].classList.add('current');
        tabs[currentTabIndex].classList.remove('locked');
        
        // Additional class handling for Django template compatibility
        tabs.forEach((t, i) => {
            if (i === currentTabIndex) {
                t.classList.add('active');
            } else {
                t.classList.remove('active');
            }
        });
        
        // Update UI elements
        updateTabIndicator();
        updateInspectionProgress();
        animateTabContent();
        
        // Scroll tab into view
        tabs[currentTabIndex].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
        
        // Update button states
        prevTabBtn.disabled = currentTabIndex === 0;
        checkCurrentTabCompletion(); // Check to enable/disable next button
        
        // Track field changes in the new tab
        trackFieldChanges();
        
        console.log(`Navigated to tab ${currentTabIndex + 1}`);
        return true;
    }
    
    // Previous tab button
    prevTabBtn.addEventListener('click', () => {
        if (currentTabIndex > 0) {
            navigateToTab(currentTabIndex - 1);
        }
    });
    
    // Next tab button
    nextTabBtn.addEventListener('click', () => {
        if (currentTabIndex < totalTabs - 1 && !nextTabBtn.disabled) {
            // Mark current tab as completed
            tabs[currentTabIndex].classList.add('completed');
            tabs[currentTabIndex].classList.remove('current');
            
            // Move to next tab
            currentTabIndex++;
            
            // Unlock and make current the next tab
            tabs[currentTabIndex].classList.remove('locked');
            tabs[currentTabIndex].classList.add('current');
            tabs[currentTabIndex].classList.add('active'); // For Django compatibility
            
            // Update content visibility
            contents.forEach(content => content.classList.remove('active'));
            contents[currentTabIndex].classList.add('active');
            
            // Update UI elements
            updateTabIndicator();
            updateInspectionProgress();
            animateTabContent();
            
            // Scroll new tab into view
            tabs[currentTabIndex].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
            
            // Update button states
            prevTabBtn.disabled = false;
            checkCurrentTabCompletion(); // This will set the next button state
            
            // Track field changes in the new tab
            trackFieldChanges();
            
            // Optionally store progress in localStorage (uncomment if needed)
            // saveProgress();
            
            console.log(`Moved to next tab: ${currentTabIndex + 1}`);
        }
    });
    
    function updateTabIndicator() {
        tabIndicator.innerHTML = `Tab ${currentTabIndex + 1} of ${totalTabs} <span class="tab-badge">${currentTabIndex + 1}</span>`;
    }
    
    function updateInspectionProgress() {
        const inspectionProgress = 33 + ((currentTabIndex / (totalTabs - 1)) * 33);
        progressFill.style.width = inspectionProgress + '%';
    }
    
    function updateProgressSteps() {
        const progressSteps = document.getElementById('progress-steps');
        if (progressSteps) {
            progressSteps.innerHTML = `
                <span>Basic Info</span>
                <span>Inspection (${totalTabs} areas)</span>
                <span>Review & Submit</span>
            `;
        }
    }
    
    function animateTabContent() {
        const items = document.querySelectorAll('.tab-content.active .item-row');
        items.forEach((item, index) => {
            item.style.opacity = 0;
            setTimeout(() => {
                item.style.opacity = 1;
            }, index * 100);
        });
    }

    // Handle form submission
    if (form) {
        form.addEventListener('submit', function(e) {
            // Check if all tabs have been visited and completed
            const completedTabs = document.querySelectorAll('.tab-link.completed');
            if (completedTabs.length < totalTabs - 1) { // Minus 1 for the current tab
                e.preventDefault();
                alert('Please complete all inspection areas before submitting.');
            }
        });
    }

    // Add required class to Django form fields that should be required
    function markRequiredFields() {
        // Add the required-field class to elements that should be required
        const allInputs = document.querySelectorAll('input, select, textarea');
        allInputs.forEach(input => {
            // Check if the field has a label with * or is marked as required in Django
            const labelElement = document.querySelector(`label[for="${input.id}"]`);
            if (labelElement && labelElement.textContent.includes('*')) {
                input.classList.add('required-field');
            }
            
            // For Django forms, add required class based on field type
            // This is just an example - adjust based on your specific fields
            if (input.id && (
                input.id.includes('_condition') || 
                input.id.match(/^id_[a-z]+\d+$/) // Basic form fields like gii1, gie2, etc.
            )) {
                input.classList.add('required-field');
            }
        });
    }

    // For debugging - temporarily add a demo button to fill fields
    function addDemoTools() {
        // Only add in development environments
        if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
            contents.forEach((content, index) => {
                const buttonContainer = document.createElement('div');
                buttonContainer.className = 'demo-button-container';
                buttonContainer.innerHTML = `<button type="button" class="btn btn-sm btn-info" 
                    onclick="fillTabFields('${content.id}')">Fill Tab ${index + 1} Fields (Demo)</button>`;
                content.appendChild(buttonContainer);
            });
            
            // Add global function to fill fields
            window.fillTabFields = function(tabId) {
                const tab = document.getElementById(tabId);
                const inputFields = tab.querySelectorAll('input, select, textarea');
                
                inputFields.forEach(field => {
                    if (field.type === 'text' || field.tagName === 'TEXTAREA') {
                        field.value = 'Demo value';
                    } else if (field.tagName === 'SELECT') {
                        if (field.options.length > 1) {
                            field.selectedIndex = 1;
                        } else if (field.options.length > 0) {
                            field.selectedIndex = 0;
                        }
                    } else if (field.type === 'checkbox') {
                        field.checked = true;
                    } else if (field.type === 'radio') {
                        field.checked = true;
                    }
                });
                
                // Force recheck of tab completion
                checkCurrentTabCompletion();
            };
        }
    }

    // Initialize the page
    markRequiredFields();
    initializeTabs();
    checkCurrentTabCompletion(); // Initial check of first tab
    trackFieldChanges();
    addDemoTools(); // Add demo tools for development
    
    console.log('Walkthrough form initialized');
});
</script>
<style>
    /* Enhanced styles for form walkthrough */
.model-content {
    display: flex;
    width: 100%;
}

.tab-buttons {
    display: flex;
    flex-direction: column;
    width: 20%;
    gap: 8px;
    margin-right: 10px;
    overflow-y: auto;
    max-height: 200vh; /* Limit height to prevent excessive scrolling */
}

/* Basic tab styles */
.tab-link {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #ddd;
    text-align: left;
    border-radius: 6px;
    font-size: 15px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    box-sizing: border-box;
    transition: all 0.3s ease;
    position: relative;
    background-color: white;
}

/* Default tab hover */
.tab-link:hover:not(.locked) {
    background-color: #f8f9fa;
    border-color: #dee2e6;
}

/* Locked state for tabs */
.tab-link.locked {
    background-color: #f0f0f0;
    color: #888;
    cursor: not-allowed;
    opacity: 0.7;
    pointer-events: auto; /* We'll handle the click event in JS */
}

/* Make lock icon more visible */
.tab-link.locked::after {
    content: "\f023"; /* Font Awesome lock icon */
    font-family: "Font Awesome 5 Free";
    font-weight: 900;
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 16px;
    color: #666;
}

/* Current/active tab (orange) */
.tab-link.current {
    background-color: #fd7e14; /* Orange color */
    color: white;
    border-color: #e65c00;
    font-weight: bold;
    border-left: 4px solid #e65c00;
}

/* Compatible with Django template's active state */
.tab-link.active:not(.current):not(.locked) {
    background-color: #28a745; /* Bootstrap success green */
    color: white;
}

/* Completed tab (green) */
.tab-link.completed {
    background-color: #28a745; /* Bootstrap success green */
    color: white;
    border-left: 4px solid #1e7e34;
    border-color: #1e7e34;
}

/* Tab content styles */
.tab-content {
    display: none;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.tab-content.active {
    display: block;
    opacity: 1;
}

/* Animation for when a locked tab is clicked */
@keyframes shake {
    0% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    50% { transform: translateX(5px); }
    75% { transform: translateX(-5px); }
    100% { transform: translateX(0); }
}

.tab-link.shake {
    animation: shake 0.4s ease-in-out;
}

/* Navigation buttons */
.tab-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 20px 0;
    padding: 10px 0;
    border-top: 1px solid #e9ecef;
}

#tab-indicator {
    flex-grow: 1;
    text-align: center;
    font-weight: bold;
    color: #495057;
}

.tab-badge {
    display: inline-block;
    background-color: #fd7e14;
    color: white;
    width: 24px;
    height: 24px;
    text-align: center;
    line-height: 24px;
    border-radius: 50%;
    margin-left: 5px;
}

/* Make disabled next button more obviously disabled */
#next-tab:disabled, 
#prev-tab:disabled {
    background-color: #dcdcdc !important;
    color: #999 !important;
    cursor: not-allowed !important;
    opacity: 0.6 !important;
    border-color: #ccc !important;
}

/* Form fields */
.item-row {
    display: flex;
    margin-bottom: 15px;
    padding-bottom: 15px;
    border-bottom: 1px solid #f0f0f0;
    transition: opacity 0.5s ease;
}

.item-label {
    width: 30%;
    padding-right: 15px;
    font-weight: 500;
}

.item-control {
    width: 20%;
}

.item-remarks {
    width: 50%;
    padding-left: 15px;
}

/* Required field indicator */
.required-field:not(:focus):invalid,
select.required-field:invalid {
    border-color: #dc3545;
    background-color: rgba(220, 53, 69, 0.05);
}

/* Progress bar */
.progress-container {
    margin: 20px 0;
}

.progress-bar {
    height: 8px;
    background-color: #e9ecef;
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 10px;
}

.progress-fill {
    height: 100%;
    background-color: #28a745;
    width: 0;
    transition: width 0.5s ease;
}

.progress-steps {
    display: flex;
    justify-content: space-between;
    color: #6c757d;
    font-size: 14px;
}

/* Demo tools */
.demo-button-container {
    margin-top: 20px;
    padding: 10px;
    background-color: #f8f9fa;
    border-radius: 4px;
    border: 1px dashed #ddd;
}

/* Form actions */
.form-actions {
    display: flex;
    justify-content: space-between;
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid #e9ecef;
}

/* Item animation */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.tab-content.active .item-row {
    animation: fadeIn 0.3s ease-in-out forwards;
}

/* Section title */
.section-title {
    min-width: 870px;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid #fd7e14;
    color: #495057;
}

/* Responsive adjustments */
@media screen and (max-width: 992px) {
    .model-content {
        flex-direction: column;
    }
    
    .tab-buttons {
        width: 100%;
        flex-direction: row;
        flex-wrap: wrap;
        max-height: unset;
        margin-bottom: 20px;
    }
    
    .tab-link {
        width: auto;
        min-width: 120px;
    }
    
    .section-title {
        min-width: 100%;
    }
    
    .item-row {
        flex-direction: column;
    }
    
    .item-label, .item-control, .item-remarks {
        width: 100%;
        padding: 5px 0;
    }
}

/* All tablets and below */
@media screen and (max-width: 768px) {
    .section-title {
        min-width: 100%;
        font-size: 1.3rem;
    }
}

/* All mobile devices */
@media screen and (max-width: 480px) {
    .section-title {
        font-size: 1.1rem;
    }
    
    .tab-nav {
        flex-direction: column;
        gap: 10px;
    }
    
    #tab-indicator {
        order: -1;
        margin-bottom: 10px;
    }
}

/* Default state of the button (disabled) */
.btn[disabled] {
    background-color: #ccc;   /* Light grey to indicate disabled state */
    color: #777;              /* Darker grey text */
    border: 1px solid #aaa;   /* Border color to match disabled theme */
    cursor: not-allowed;      /* Change cursor to show it's locked */
    opacity: 0.6;             /* Reduce opacity to give a faded effect */
}

/* Hover effect for disabled button */
.btn[disabled]:hover {
    background-color: #ccc;   /* No hover effect, stays the same */
    cursor: not-allowed;
}

/* Active state of the button (when enabled) */
.btn {
    background-color: #6e8efb; /* Original blue color */
    color: #fff;               /* White text */
    border: 1px solid #6e8efb; /* Same border color as button */
    cursor: pointer;           /* Cursor changes to pointer */
    opacity: 1;                 /* Fully opaque when active */
    transition: background-color 0.3s, opacity 0.3s; /* Smooth transition */
}

/* Hover effect for the active button */
.btn:hover {
    background-color: #a777e3;  /* Change color on hover */
    opacity: 0.9;               /* Slightly reduce opacity on hover */
}

/* Add a lock icon when the button is disabled */
.btn[disabled] i {
    margin-right: 5px; /* Space between the icon and text */
}

</style>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const submitButton = document.getElementById('submit-btn');
        const gie15Field = document.querySelector('[name="guest_house_bath_8"]'); // Assuming the field name is 'gie15'
        
        // Initially disable the submit button
        submitButton.disabled = true;

        // Function to enable submit button when field is interacted with
        function enableSubmitButton() {
            submitButton.disabled = false;
        }

        // Monitor the 'gie15' field for changes
        if (gie15Field) {
            // Enable submit button when the field is clicked or selected
            gie15Field.addEventListener('change', enableSubmitButton);
            gie15Field.addEventListener('click', enableSubmitButton);
        }
    });
</script>
{% endblock content %}
